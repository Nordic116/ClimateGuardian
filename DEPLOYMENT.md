# ClimateGuardian Deployment Guide ðŸš€

This guide provides step-by-step instructions for deploying ClimateGuardian to Render.

## Prerequisites

1. **Render Account**: Sign up at [render.com](https://render.com)
2. **GitHub Repository**: Fork or clone this repository
3. **IBM watsonx.ai Access**: Get API credentials from IBM Cloud

## Quick Deployment to Render

### Option 1: One-Click Deploy (Recommended)

[![Deploy to Render](https://render.com/images/deploy-to-render-button.svg)](https://render.com/deploy)

### Option 2: Manual Deployment

1. **Connect Repository**
   - Log in to your Render dashboard
   - Click "New +" â†’ "Web Service"
   - Connect your GitHub account and select the ClimateGuardian repository

2. **Configure Service**
   ```
   Name: climateguardian
   Environment: Python 3
   Build Command: pip install -r requirements.txt
   Start Command: gunicorn --bind 0.0.0.0:$PORT app:app
   ```

3. **Set Environment Variables**
   ```
   FLASK_ENV=production
   FLASK_DEBUG=false
   SECRET_KEY=[Auto-generated by Render]
   WATSONX_API_KEY=[Your IBM watsonx.ai API key]
   WATSONX_PROJECT_ID=[Your IBM watsonx.ai project ID]
   IBM_CLOUD_API_KEY=[Your IBM Cloud API key]
   ```

4. **Deploy**
   - Click "Create Web Service"
   - Wait for deployment to complete (usually 2-3 minutes)

## Environment Variables Setup

### Required Variables

| Variable | Description | Where to Get |
|----------|-------------|--------------|
| `WATSONX_API_KEY` | IBM watsonx.ai API key | IBM Cloud Console â†’ watsonx.ai |
| `WATSONX_PROJECT_ID` | watsonx.ai project ID | IBM watsonx.ai Studio |
| `IBM_CLOUD_API_KEY` | IBM Cloud API key | IBM Cloud Console â†’ Manage â†’ Access (IAM) |

### Optional Variables

| Variable | Default | Description |
|----------|---------|-------------|
| `SECRET_KEY` | Auto-generated | Flask session secret key |
| `FLASK_ENV` | production | Flask environment |
| `FLASK_DEBUG` | false | Debug mode |

## Getting IBM watsonx.ai Credentials

1. **Sign up for IBM Cloud**
   - Go to [cloud.ibm.com](https://cloud.ibm.com)
   - Create a free account

2. **Access watsonx.ai**
   - Navigate to watsonx.ai in the IBM Cloud catalog
   - Create a new instance (free tier available)

3. **Get API Key**
   - Go to IBM Cloud Console â†’ Manage â†’ Access (IAM)
   - Create a new API key
   - Copy the API key value

4. **Get Project ID**
   - Open watsonx.ai Studio
   - Create a new project or use existing
   - Copy the project ID from project settings

## Local Development

1. **Clone Repository**
   ```bash
   git clone https://github.com/your-username/ClimateGuardian.git
   cd ClimateGuardian
   ```

2. **Install Dependencies**
   ```bash
   pip install -r requirements.txt
   ```

3. **Set Environment Variables**
   ```bash
   cp .env.example .env
   # Edit .env with your credentials
   ```

4. **Initialize Datasets**
   ```bash
   python scripts/initialize_datasets.py
   ```

5. **Run Application**
   ```bash
   python app.py
   ```

6. **Access Application**
   - Open http://localhost:12000

## Deployment Verification

After deployment, verify your application:

1. **Health Check**
   ```bash
   curl https://your-app.onrender.com/api/health
   ```

2. **Test Query**
   ```bash
   curl -X POST https://your-app.onrender.com/api/query \
     -H "Content-Type: application/json" \
     -d '{"question": "What are climate risks for coastal cities?"}'
   ```

3. **Check Datasets**
   ```bash
   curl https://your-app.onrender.com/api/datasets
   ```

## Troubleshooting

### Common Issues

1. **Build Fails**
   - Check Python version in `runtime.txt`
   - Verify all dependencies in `requirements.txt`

2. **App Won't Start**
   - Check environment variables are set
   - Verify Procfile syntax
   - Check application logs in Render dashboard

3. **API Errors**
   - Verify IBM watsonx.ai credentials
   - Check API key permissions
   - Ensure project ID is correct

### Logs and Monitoring

- **View Logs**: Render Dashboard â†’ Your Service â†’ Logs
- **Monitor Performance**: Render Dashboard â†’ Your Service â†’ Metrics
- **Health Checks**: Built-in endpoint at `/api/health`

## Scaling and Performance

### Free Tier Limitations
- 750 hours/month
- Sleeps after 15 minutes of inactivity
- 512MB RAM

### Upgrading for Production
- **Starter Plan**: $7/month, always on, 512MB RAM
- **Standard Plan**: $25/month, 2GB RAM, better performance
- **Pro Plan**: $85/month, 8GB RAM, priority support

## Security Best Practices

1. **Environment Variables**
   - Never commit API keys to repository
   - Use Render's environment variable encryption

2. **HTTPS**
   - Render provides free SSL certificates
   - All traffic is encrypted by default

3. **API Rate Limiting**
   - Implement rate limiting for production use
   - Monitor API usage and costs

## Custom Domain (Optional)

1. **Add Custom Domain**
   - Render Dashboard â†’ Your Service â†’ Settings â†’ Custom Domains
   - Add your domain (e.g., climateguardian.yourdomain.com)

2. **Configure DNS**
   - Point your domain to Render's servers
   - SSL certificate will be automatically provisioned

## Monitoring and Analytics

### Built-in Monitoring
- Application logs
- Performance metrics
- Error tracking
- Uptime monitoring

### External Monitoring (Optional)
- Google Analytics for usage tracking
- Sentry for error monitoring
- New Relic for performance monitoring

## Support and Resources

- **Render Documentation**: [render.com/docs](https://render.com/docs)
- **IBM watsonx.ai Docs**: [ibm.com/docs/en/watsonx-as-a-service](https://www.ibm.com/docs/en/watsonx-as-a-service)
- **ClimateGuardian Issues**: [GitHub Issues](https://github.com/your-username/ClimateGuardian/issues)

## Next Steps

After successful deployment:

1. **Test All Features**
   - Try different query types
   - Verify data sources
   - Test multilingual support

2. **Monitor Performance**
   - Check response times
   - Monitor error rates
   - Track usage patterns

3. **Gather Feedback**
   - Share with target users
   - Collect feedback and suggestions
   - Plan feature improvements

4. **Scale as Needed**
   - Upgrade Render plan if needed
   - Optimize performance
   - Add monitoring tools

---

**ðŸŽ‰ Congratulations! Your ClimateGuardian application is now live and helping fight climate change!**